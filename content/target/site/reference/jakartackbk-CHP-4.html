<html xmlns:fo="http://www.w3.org/1999/XSL/Format">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>Chapter&nbsp;4.&nbsp;Functors</title>
      <link rel="stylesheet" href="../css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="book.html" title="Jakarta Commons Cookbook">
      <link rel="up" href="book.html" title="Jakarta Commons Cookbook">
      <link rel="prev" href="jakartackbk-CHP-3-SECT-19.4.html" title="3.19.4.&nbsp;See Also">
      <link rel="next" href="jakartackbk-CHP-4-SECT-1.html" title="4.1.&nbsp;Obtaining Commons Collections">
   </head>
   <body>
      <div id="frame">
         <div id="forbg">
            <div id="user-header">
               <div id="logo"><a href="http://www.discursive.com" title="$"><img src="../images/discursive-logo.png" border="0"></a></div>
               <div id="right-header">
                  <h2>Common Java Cookbook</h2>
                  <h4>Edition: 0.1-SNAPSHOT</h4>
               </div>
               <div style="clear:both;"></div>
               <div id="left-sidebar"></div>
            </div>
            <div class="navheader">
               <table width="100%" summary="Navigation header">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-3-SECT-19.4.html">3.19.4.&nbsp;See Also</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">
                           												TOC
                                                                       </a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-4-SECT-1.html">4.1.&nbsp;Obtaining Commons Collections</a></td>
                  </tr>
               </table>
            </div>
            <div class="chapter" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h2 class="title"><a name="jakartackbk-CHP-4"></a>Chapter&nbsp;4.&nbsp;Functors
                        </h2>
                     </div>
                  </div>
               </div>
               <div class="toc">
                  <dl>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4.html#ch04-2-fm2xml">4.1. Introduction</a></span></dt>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-1.html">4.1. Obtaining Commons Collections</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-1.html#jakartackbk-CHP-4-SECT-1.1">4.1.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-1.2.html">4.1.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-1.3.html">4.1.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-1.4.html">4.1.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-2.html">4.2. Getting the Commons Collections Source Code</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-2.html#jakartackbk-CHP-4-SECT-2.1">4.2.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-2.2.html">4.2.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-2.3.html">4.2.3. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-3.html">4.3. Reversing a Comparator</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-3.html#jakartackbk-CHP-4-SECT-3.1">4.3.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-3.2.html">4.3.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-3.3.html">4.3.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-3.4.html">4.3.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-4.html">4.4. Chaining Comparators</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-4.html#jakartackbk-CHP-4-SECT-4.1">4.4.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-4.2.html">4.4.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-4.3.html">4.4.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-4.4.html">4.4.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-5.html">4.5. Comparing Nulls</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-5.html#jakartackbk-CHP-4-SECT-5.1">4.5.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-5.2.html">4.5.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-5.3.html">4.5.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-5.4.html">4.5.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-6.html">4.6. Fixed-Order Comparison</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-6.html#jakartackbk-CHP-4-SECT-6.1">4.6.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-6.2.html">4.6.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-6.3.html">4.6.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-6.4.html">4.6.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-7.html">4.7. Using Simple Predicates</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-7.html#jakartackbk-CHP-4-SECT-7.1">4.7.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-7.2.html">4.7.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-7.3.html">4.7.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-7.4.html">4.7.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-8.html">4.8. Writing a Custom Predicate</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-8.html#jakartackbk-CHP-4-SECT-8.1">4.8.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-8.2.html">4.8.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-8.3.html">4.8.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-8.4.html">4.8.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-9.html">4.9. Creating Composite Predicates</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-9.html#jakartackbk-CHP-4-SECT-9.1">4.9.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-9.2.html">4.9.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-9.3.html">4.9.3. Discussion</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-10.html">4.10. Transforming Objects</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-10.html#jakartackbk-CHP-4-SECT-10.1">4.10.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-10.2.html">4.10.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-10.3.html">4.10.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-10.4.html">4.10.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-11.html">4.11. Creating a Chain of Transformations</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-11.html#jakartackbk-CHP-4-SECT-11.1">4.11.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-11.2.html">4.11.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-11.3.html">4.11.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-11.4.html">4.11.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-12.html">4.12. Applying Conditional Transformations</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-12.html#jakartackbk-CHP-4-SECT-12.1">4.12.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-12.2.html">4.12.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-12.3.html">4.12.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-12.4.html">4.12.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-13.html">4.13. Writing a Closure</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-13.html#jakartackbk-CHP-4-SECT-13.1">4.13.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-13.2.html">4.13.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-13.3.html">4.13.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-13.4.html">4.13.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-14.html">4.14. Chaining Closures</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-14.html#jakartackbk-CHP-4-SECT-14.1">4.14.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-14.2.html">4.14.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-14.3.html">4.14.3. Discussion</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-14.4.html">4.14.4. See Also</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-15.html">4.15. Modeling Conditional Statements with Closures</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-15.html#jakartackbk-CHP-4-SECT-15.1">4.15.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-15.2.html">4.15.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-15.3.html">4.15.3. Discussion</a></span></dt>
                        </dl>
                     </dd>
                     <dt><span class="sect1"><a href="jakartackbk-CHP-4-SECT-16.html">4.16. Modeling Loops with Closures</a></span></dt>
                     <dd>
                        <dl>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-16.html#jakartackbk-CHP-4-SECT-16.1">4.16.1. Problem</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-16.2.html">4.16.2. Solution</a></span></dt>
                           <dt><span class="sect2"><a href="jakartackbk-CHP-4-SECT-16.3.html">4.16.3. Discussion</a></span></dt>
                        </dl>
                     </dd>
                  </dl>
               </div>
               <div class="sect1" lang="en">
                  <div class="titlepage">
                     <div>
                        <div>
                           <h2 class="title" style="clear: both"><a name="ch04-2-fm2xml"></a>4.1.&nbsp;Introduction
                           </h2>
                           <div class="section-icon"></div>
                        </div>
                     </div>
                  </div>
                  <p>The American Heritage Dictionary defines a
                     <code class="filename">functor</code>
                                 <a class="indexterm" name="jakartackbk-CHP-4-ITERM-2290"></a>
                     as "one that performs an operation or a
                     function," and, in the context of programming, a
                     functor is an object that encapsulates "functional
                     logic"&#8212;a functional object. So with a
                     definition as abstract as "something that does
                     stuff," you won't find a lot of
                     satisfying, concise explanations of what a functor can do; in the
                     abstract, anything that performs an operation or function could be
                     considered a functor, and the process of drawing divisions between
                     what should and should not be implemented with functors becomes a
                     matter of personal preference. I'm not going to
                     attempt to give a well-polished, textbook definition of a functor;
                     this chapter simply demonstrates the set of basic functors from
                     Commons Collections. Functors are less of an impressive new
                     technology and are more of an approach to programming. Even if you
                     are unfamiliar with the term, you've likely used
                     functors without realizing it; two functors in common usage are
                     <code class="literal">Comparator</code> and <code class="literal">Iterator</code>.
                  </p>
                  <p>Both <code class="literal">Comparator</code> and <code class="literal">Iterator</code>
                     serve to isolate an algorithm; <code class="literal">Comparator</code>
                     encapsulates logic to compare two objects, and
                     <code class="literal">Iterator</code> encapsulates logic used to iterate over a
                     collection of objects. Functors often lead to more code reuse and a
                     cleaner design because functional logic can be abstracted and
                     extracted out of logic dealing with a specific data structure. For
                     example, to compare two <code class="literal">Person</code> beans, you could
                     make the <code class="literal">Person</code> class implement
                     <code class="literal">Comparable</code> and provide a <code class="literal">compareTo()</code> method in the <code class="literal">Person</code> class, or you
                     could write a <code class="literal">PersonComparator</code>, separating the
                     comparison logic from the <code class="literal">Person</code> class. It is this
                     separation of functional logic and the ability to combine functors
                     together that make functors an interesting solution to a number of
                     problems, from the creation of a <code class="literal">Closure</code> pipeline
                     to a series of <code class="literal">Predicate</code> objects used to model a
                     digital logic circuit.
                  </p>
                  <p>Jakarta Commons Collections 3.0 introduces a set of functor
                     interfaces in the <code class="literal">org.apache.commons.collections</code>
                     package: <code class="literal">Predicate</code>,
                     <code class="literal">Transformer</code>, <code class="literal">Factory</code>, and
                     <code class="literal">Closure</code> objects. <code class="literal">Predicate</code>
                     objects evaluate criteria or conditions, returning a
                     <code class="literal">boolean</code> result. <code class="literal">Transformer</code>
                     objects create a new object based on an input object,
                     <code class="literal">Closure</code> objects act on an input object, and
                     <code class="literal">Factory</code> objects create objects. The powerful part
                     of functors isn't that Commons Collections has
                     introduced a few new interfaces&#8212;the power is only evident once
                     you realize how they can be used in concert with other Jakarta
                     Commons utilities such as Commons BeanUtils and Commons Collections.
                     <a href="jakartackbk-CHP-5.html" title="Chapter&nbsp;5.&nbsp;Collections">Chapter 5</a> makes heavy use of the functors
                     introduced in this chapter, and <a href="jakartackbk-CHP-3.html" title="Chapter&nbsp;3.&nbsp;JavaBeans">Chapter 3</a>
                     discusses a <code class="literal">BeanComparator</code> and a
                     <code class="literal">BeanPredicate</code>.
                  </p>
                  <p>This chapter focuses on the functors introduced in Commons
                     Collections 3.0 and also deals with improvements to the
                     <code class="literal">Comparator</code> interface. Commons Collections
                     introduces some improvements to the <code class="literal">Iterator</code>
                     interface, but, since people usually use <code class="literal">Iterator</code>
                     objects with <code class="literal">Collections</code>, recipes involving
                     <code class="literal">Iterator</code> objects are in the next chapter, which
                     covers Java Collections. Functors, part of Commons Collections, are
                     somewhat misplaced, and, even as this chapter is written, a Commons
                     Functor project is being finalized in the Jakarta Commons Sandbox. By
                     the time you read this chapter, the Commons Functor project may have
                     been released. This book assumes that you are using the functors
                     available in the 3.0 release of Commons Collections. The Commons
                     Functor release contains a number of changes and improvements to the
                     set of functors introduced in Commons Collections 3.0, and, when
                     possible, the See Also sections in each recipe discuss the relevant
                     class or interface in the fast-developing Commons Functor project.
                  </p>
               </div>
            </div>
            <div class="navfooter">
               <hr>
               <table width="100%" summary="Navigation footer">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-3-SECT-19.4.html">Prev</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-4-SECT-1.html">Next</a></td>
                  </tr>
                  <tr>
                     <td width="40%" align="left" valign="top">3.19.4.&nbsp;See Also&nbsp;</td>
                     <td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.sonatype.com/" title="Discursive: Discursive">Sponsored by Discursive
                                                                      </a></span></td>
                     <td width="40%" align="right" valign="top">&nbsp;4.1.&nbsp;Obtaining Commons Collections</td>
                  </tr>
               </table>
            </div><br><center>
                             Copyright 2009. Discursive. All Rights Reserved.
                           
            </center><script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1693297-1");
pageTracker._initData();
pageTracker._setDomainName(".sonatype.com");
pageTracker._trackPageview();
</script><script src="http://loopfuse.net/webrecorder/js/listen.js" type="text/javascript"></script><script type="text/javascript">
  _lf_cid = "LF_5208d25a";
_lf_remora();
</script></div>
      </div>
   </body>
</html>