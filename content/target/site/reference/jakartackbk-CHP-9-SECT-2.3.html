<html xmlns:fo="http://www.w3.org/1999/XSL/Format">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>9.2.3.&nbsp;Discussion</title>
      <link rel="stylesheet" href="../css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="book.html" title="Jakarta Commons Cookbook">
      <link rel="up" href="jakartackbk-CHP-9-SECT-2.html" title="9.2.&nbsp;Using an Expression Language">
      <link rel="prev" href="jakartackbk-CHP-9-SECT-2.2.html" title="9.2.2.&nbsp;Solution">
      <link rel="next" href="jakartackbk-CHP-9-SECT-2.4.html" title="9.2.4.&nbsp;See Also">
   </head>
   <body>
      <div id="frame">
         <div id="forbg">
            <div id="user-header">
               <div id="logo"><a href="http://www.discursive.com" title="$"><img src="../images/discursive-logo.png" border="0"></a></div>
               <div id="right-header">
                  <h2>Common Java Cookbook</h2>
                  <h4>Edition: 0.1-SNAPSHOT</h4>
               </div>
               <div style="clear:both;"></div>
               <div id="left-sidebar"></div>
            </div>
            <div class="navheader">
               <table width="100%" summary="Navigation header">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-9-SECT-2.2.html">9.2.2.&nbsp;Solution</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">
                           												TOC
                                                                       </a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-9-SECT-2.4.html">9.2.4.&nbsp;See Also</a></td>
                  </tr>
               </table>
            </div>
            <div class="sect2" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="jakartackbk-CHP-9-SECT-2.3"></a>9.2.3.&nbsp;Discussion
                        </h3>
                        <div class="section-icon"></div>
                     </div>
                  </div>
               </div>
               <p>The previous example creates and populates an instance of the
                  <code class="literal">Opera</code> bean: <code class="literal">opera</code>. An
                  <code class="literal">Expression</code> object is then created by passing a
                  <code class="literal">String</code> containing a JEXL expression to
                  <code class="literal">ExpressionFactory.createExpression( )</code>. A
                  <code class="literal">JexlContext</code> is created with a call to
                  <code class="literal">JexlHelper.createContext( )</code>. This context contains
                  a map-like structure that holds named variables, and the
                  <code class="literal">Opera</code> object is added to the
                  <code class="literal">JexlContext</code> under the name
                  <code class="literal">opera</code>. Once an <code class="literal">Expression</code> and a
                  <code class="literal">JexlContext</code> are created and populated,
                  <code class="literal">expression.evaluate( )</code> merges the expression with
                  the context, and a message is generated. A JEXL expression evaluates
                  to an <code class="literal">Object</code>, but, in this case, the expression
                  evaluates to a <code class="literal">String</code> object, and the results of
                  the evaluation are cast to a <code class="literal">String</code>.
               </p>
               <p>This simple example sets the stage for a majority of recipes in this
                  chapter; most templating engines involve the pattern established by
                  the previous example. First, there is a template&#8212;in this case,
                  a <code class="literal">String</code> that contains expressions that are to be
                  replaced by bean properties. Second, a collection of named variables
                  are put into a context. Lastly, the template is merged with the
                  variables in the context.
               </p>
               <p>This chapter makes heavy use of expressions in templating engines,
                  and this is a logical time to introduce the concept of the syntax
                  used to create expressions. If you are familiar with
                  <a class="indexterm" name="jakartackbk-CHP-9-ITERM-2949"></a>JavaServer Pages (JSPs) you
                  may<a class="indexterm" name="jakartackbk-CHP-9-ITERM-2950"></a>
                  know about a tag library called the <a class="indexterm" name="jakartackbk-CHP-9-ITERM-2951"></a>JavaServer Pages Standard
                  Tag Library <a class="indexterm" name="jakartackbk-CHP-9-ITERM-2952"></a>
                                 <a class="indexterm" name="jakartackbk-CHP-9-ITERM-2953"></a>
                                 <a class="indexterm" name="jakartackbk-CHP-9-ITERM-2954"></a>(JSTL),
                  which is a set of standard JSP tag libraries that make creating JSP
                  pages much easier. Along with JSTL came something called EL, which is
                  an expression language you can use in JSTL tags and in JSP 2.0. In
                  general, JEXL can do everything that JSP EL can do, and more. <a href="jakartackbk-CHP-9-SECT-2.3.html#jakartackbk-CHP-9-TABLE-1" title="Table&nbsp;9-1.&nbsp;Simple Commons JEXL and JSP 2.0 EL expressions">Table 9-1</a> lists expressions that are valid in both JSP
                  2.0 EL and Jakarta Commons JEXL.
               </p>
               <div class="table"><a name="jakartackbk-CHP-9-TABLE-1"></a><p class="title"><b>Table&nbsp;9-1.&nbsp;Simple Commons JEXL and JSP 2.0 EL expressions</b></p>
                  <div class="table-contents">
                     <table summary="Simple Commons JEXL and JSP 2.0 EL expressions" border="1">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <thead>
                           <tr>
                              <th>
                                                            
                                 <p>EL expression</p>
                                                         
                              </th>
                              <th>
                                                            
                                 <p>Evaluates to</p>
                                                         
                              </th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${true}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">true</code>
                                                               
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${1}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>The integer <code class="literal">1</code>
                                                               
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${'Hello'}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>The <code class="literal">String</code>
                                    "Hello"
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${'blah' == 'blah'}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">true</code>
                                                               
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${var == true}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">true</code> if the variable named <code class="literal">var</code>
                                    is a Boolean <code class="literal">true</code>
                                                               
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${x.a &lt; 352}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">true</code> if <code class="literal">x.getA( )</code> is a number
                                    less than 352
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${ball.color ==   'Green'}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">true</code> if <code class="literal">ball.getColor( )</code> equals
                                    "Green"
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${x == 2 || y == 4}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">true</code> if <code class="literal">x</code> equals 2 or if
                                    <code class="literal">y</code> equals 4
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${thing.color.name}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Retrieves the value of <code class="literal">thing.getColor( ).getName( )</code>
                                                               
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${thing.shapes["circle"]}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Retrieves the object stored under the key
                                    "circle" on the
                                    <code class="literal">Map</code> 
                                                                  <code class="literal">shapes</code>, which is a bean
                                    property of <code class="literal">thing</code>
                                                               
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${thing.someList[55]}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Retrieves the object at index 54 of a <code class="literal">List</code>,
                                    <code class="literal">someList</code>, which is a bean property of
                                    <code class="literal">thing</code>
                                                               
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${empty var}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Evaluates to <code class="literal">true</code> if <code class="literal">var</code> is
                                    <code class="literal">null</code> or empty
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">${!(y &lt; 4)}</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">true</code> if <code class="literal">y</code> is not less than 4
                                 </p>
                                                         
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"></div>
            <div class="navfooter">
               <hr>
               <table width="100%" summary="Navigation footer">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-9-SECT-2.2.html">Prev</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-9-SECT-2.4.html">Next</a></td>
                  </tr>
                  <tr>
                     <td width="40%" align="left" valign="top">9.2.2.&nbsp;Solution&nbsp;</td>
                     <td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.sonatype.com/" title="Discursive: Discursive">Sponsored by Discursive
                                                                      </a></span></td>
                     <td width="40%" align="right" valign="top">&nbsp;9.2.4.&nbsp;See Also</td>
                  </tr>
               </table>
            </div><br><center>
                             Copyright 2009. Discursive. All Rights Reserved.
                           
            </center><script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1693297-1");
pageTracker._initData();
pageTracker._setDomainName(".sonatype.com");
pageTracker._trackPageview();
</script><script src="http://loopfuse.net/webrecorder/js/listen.js" type="text/javascript"></script><script type="text/javascript">
  _lf_cid = "LF_5208d25a";
_lf_remora();
</script></div>
      </div>
   </body>
</html>