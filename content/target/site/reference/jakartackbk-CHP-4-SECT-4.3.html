<html xmlns:fo="http://www.w3.org/1999/XSL/Format">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>4.4.3.&nbsp;Discussion</title>
      <link rel="stylesheet" href="../css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="book.html" title="Jakarta Commons Cookbook">
      <link rel="up" href="jakartackbk-CHP-4-SECT-4.html" title="4.4.&nbsp;Chaining Comparators">
      <link rel="prev" href="jakartackbk-CHP-4-SECT-4.2.html" title="4.4.2.&nbsp;Solution">
      <link rel="next" href="jakartackbk-CHP-4-SECT-4.4.html" title="4.4.4.&nbsp;See Also">
   </head>
   <body>
      <div id="frame">
         <div id="forbg">
            <div id="user-header">
               <div id="logo"><a href="http://www.discursive.com" title="$"><img src="../images/discursive-logo.png" border="0"></a></div>
               <div id="right-header">
                  <h2>Common Java Cookbook</h2>
                  <h4>Edition: 0.1-SNAPSHOT</h4>
               </div>
               <div style="clear:both;"></div>
               <div id="left-sidebar"></div>
            </div>
            <div class="navheader">
               <table width="100%" summary="Navigation header">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-4-SECT-4.2.html">4.4.2.&nbsp;Solution</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">
                           												TOC
                                                                       </a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-4-SECT-4.4.html">4.4.4.&nbsp;See Also</a></td>
                  </tr>
               </table>
            </div>
            <div class="sect2" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="jakartackbk-CHP-4-SECT-4.3"></a>4.4.3.&nbsp;Discussion
                        </h3>
                        <div class="section-icon"></div>
                     </div>
                  </div>
               </div>
               <p>A <code class="literal">ComparatorChain</code> evaluates every
                  <code class="literal">Comparator</code> in the chain as needed. If the current
                  <code class="literal">Comparator</code> returns a zero, the next
                  <code class="literal">Comparator</code> is invoked until there are no more
                  <code class="literal">Comparator</code> objects left in the chain. If the final
                  <code class="literal">Comparator</code> returns a zero value, the
                  <code class="literal">ComparatorChain</code> returns a zero. The
                  <code class="literal">ComparatorChain</code> implements the
                  <code class="literal">Comparator</code> interface and is an aggregate of other
                  <code class="literal">Comparator</code> objects; it can be used wherever a
                  <code class="literal">Comparator</code> is used, including array sorting and as
                  a <code class="literal">Comparator</code> for a tree-based
                  <code class="literal">Collection</code> implementation.
               </p>
               <p>The <code class="literal">ReverseComparator</code> (introduced in <a href="jakartackbk-CHP-4-SECT-3.html" title="4.3.&nbsp;Reversing a Comparator">Recipe 4.3</a>) makes more sense in light of the
                  <code class="literal">ComparatorChain</code>. If you need to sort a collection
                  of objects for display, you might want to reverse a particular
                  <code class="literal">Comparator</code> in a
                  <code class="literal">ComparatorChain</code>. In the previous example, there
                  are two people named "James Payne":
                  one is 21 and the other is 85. Your application respects age and you
                  want to put the older James Payne in front of the younger James Payne
                  in the sorted list. Sorting by <code class="literal">lastName</code> ascending,
                  <code class="literal">firstName</code> ascending, and <code class="literal">age</code>
                  descending calls for the last <code class="literal">Comparator</code> in the
                  chain to be reversed; the following code calls
                  <code class="literal">addComparator( )</code> with a second parameter,
                  <code class="literal">true</code>, causing the
                  <code class="literal">BeanComparator</code> for <code class="literal">age</code> to be
                  reversed with <code class="literal">ReverseComparator</code>:
               </p><a name="I_4_tt161"></a><pre class="programlisting">comparatorChain.addComparator( new BeanComparator( "age" ), true );</pre><p>The previous statement is equivalent to the following code:</p><a name="I_4_tt162"></a><pre class="programlisting">
comparaterChain.addComparator( new ReverseComparator
                               (new BeanComparator("age") );</pre><p>Using a <code class="literal">ComparatorChain</code> may remind you of the way
                  a result set is sorted in a SQL <code class="literal">SELECT</code> statement.
                  This recipe's Solution implements the following SQL
                  statement in a <code class="literal">ComparatorChain</code>:
               </p><a name="I_4_tt163"></a><pre class="programlisting">SELECT * FROM person ORDER BY lastName ASC, firstName ASC, age DESC;</pre><div class="sidebar"><a name="jakartackbk-CHP-4-SIDEBAR-1"></a><p class="title"><b>Where to Sort?</b></p>
                  <p>In many organizations, there is a debate
                     over<a class="indexterm" name="jakartackbk-CHP-4-ITERM-2310"></a>
                     where to sort data in an application: should sorting be done in the
                     database or in an application server? The answer depends on a number
                     of factors, but, now that you have seen how a
                     <code class="literal">ComparatorChain</code> works, you can implement
                     <span class="emphasis"><em>any</em></span> complex sort in Java. The use of a
                     <code class="literal">ComparatorChain</code> is especially relevant if you are
                     writing a web application that presents a sortable table and you have
                     decided to implement sorting logic in your presentation layer. If you
                     are sorting beans, load your data into a collection and use a
                     <code class="literal">ComparatorChain</code> made up of
                     <code class="literal">BeanComparators</code>.
                  </p>
               </div>
            </div>
            <div class="navfooter">
               <hr>
               <table width="100%" summary="Navigation footer">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-4-SECT-4.2.html">Prev</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-4-SECT-4.4.html">Next</a></td>
                  </tr>
                  <tr>
                     <td width="40%" align="left" valign="top">4.4.2.&nbsp;Solution&nbsp;</td>
                     <td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.sonatype.com/" title="Discursive: Discursive">Sponsored by Discursive
                                                                      </a></span></td>
                     <td width="40%" align="right" valign="top">&nbsp;4.4.4.&nbsp;See Also</td>
                  </tr>
               </table>
            </div><br><center>
                             Copyright 2009. Discursive. All Rights Reserved.
                           
            </center><script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1693297-1");
pageTracker._initData();
pageTracker._setDomainName(".sonatype.com");
pageTracker._trackPageview();
</script><script src="http://loopfuse.net/webrecorder/js/listen.js" type="text/javascript"></script><script type="text/javascript">
  _lf_cid = "LF_5208d25a";
_lf_remora();
</script></div>
      </div>
   </body>
</html>