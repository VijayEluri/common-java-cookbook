<html xmlns:fo="http://www.w3.org/1999/XSL/Format">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>1.5.3.&nbsp;Discussion</title>
      <link rel="stylesheet" href="../css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="book.html" title="Jakarta Commons Cookbook">
      <link rel="up" href="jakartackbk-CHP-1-SECT-5.html" title="1.5.&nbsp;Customizing Generated toString( ) Content">
      <link rel="prev" href="jakartackbk-CHP-1-SECT-5.2.html" title="1.5.2.&nbsp;Solution">
      <link rel="next" href="jakartackbk-CHP-1-SECT-6.html" title="1.6.&nbsp;Automating hashCode( ) and equals( )">
   </head>
   <body>
      <div id="frame">
         <div id="forbg">
            <div id="user-header">
               <div id="logo"><a href="http://www.discursive.com" title="$"><img src="../images/discursive-logo.png" border="0"></a></div>
               <div id="right-header">
                  <h2>Common Java Cookbook</h2>
                  <h4>Edition: 0.1-SNAPSHOT</h4>
               </div>
               <div style="clear:both;"></div>
               <div id="left-sidebar"></div>
            </div>
            <div class="navheader">
               <table width="100%" summary="Navigation header">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-1-SECT-5.2.html">1.5.2.&nbsp;Solution</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">
                           												TOC
                                                                       </a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-1-SECT-6.html">1.6.&nbsp;Automating hashCode( ) and equals( )</a></td>
                  </tr>
               </table>
            </div>
            <div class="sect2" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="jakartackbk-CHP-1-SECT-5.3"></a>1.5.3.&nbsp;Discussion
                        </h3>
                        <div class="section-icon"></div>
                     </div>
                  </div>
               </div>
               <p>Generating <code class="literal">toString( )</code> content using reflection
                  saves time, but the trade-off is that the code using reflection
                  prints out every member variable of a given class. What do you do
                  when the desired behavior is to print out only a few selected
                  variables from a given class? What if your objects are very
                  <code class="filename">wide</code>, in that they have many properties that you
                  don't want to print out in a <code class="literal">toString()</code> method? There are situations where an object could have a
                  large number of properties or when a particular property of an object
                  might contain a large amount of textual content. In these situations,
                  it would be counterproductive to use
                  <code class="literal">ReflectionToStringBuilder</code> to print out every
                  member variable in a class.
               </p>
               <p>Use a <code class="literal">ToStringBuilder</code> and customize the contents
                  of the output with a static member of a
                  <code class="literal">ToStringStyle</code>. The constructor of a
                  <code class="literal">ToStringBuilder</code> takes an object instance and a
                  <code class="literal">ToStringStyle</code>, returning an instance of a
                  <code class="literal">ToStringBuilder</code>. This builder is then customized
                  by calling <code class="literal">append( )</code>, which lets you specify the
                  properties you want included in the output. To customize the contents
                  of a <code class="literal">ToStringBuilder</code>, you must manually add
                  <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1773"></a>
                                 <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1774"></a>
                                 <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1775"></a>each property to an instance of a
                  builder. The <code class="literal">append( )</code>
                                 <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1776"></a>
                                 <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1777"></a> method accepts all primitives, objects, and
                  arrays. <a href="jakartackbk-CHP-1-SECT-5.3.html#jakartackbk-CHP-1-TABLE-1" title="Table&nbsp;1-1.&nbsp;Variations of ToStringBuilder append( )">Table 1-1</a> summarizes the variations of
                  <code class="literal">append( )</code> for integer primitives and objects.
               </p>
               <div class="table"><a name="jakartackbk-CHP-1-TABLE-1"></a><p class="title"><b>Table&nbsp;1-1.&nbsp;Variations of ToStringBuilder append( )</b></p>
                  <div class="table-contents">
                     <table summary="Variations of ToStringBuilder append( )" border="1">
                        <colgroup>
                           <col>
                           <col>
                        </colgroup>
                        <thead>
                           <tr>
                              <th>
                                                            
                                 <p>ToStringBuilder method</p>
                                                         
                              </th>
                              <th>
                                                            
                                 <p>Description</p>
                                                         
                              </th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">append(int value)</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Appends the value of the integer.</p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">append(String n, int value)</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Appends the value of the integer and the name of the property.</p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">append(Object value)</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Appends the <code class="literal">toString( )</code> of an Object.
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">append(String n, Object value)</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Appends the <code class="literal">toString( )</code> of an Object and the name
                                    of the property.
                                 </p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">append(int[] array)append(Object[] array)</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Appends the formatted contents of array.</p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">append(String n int[] array)append(String n, Object[]
                                       array)</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Appends the property name and the size of an array</p>
                                                         
                              </td>
                           </tr>
                           <tr>
                              <td>
                                                            
                                 <p>
                                                                  <code class="literal">append(String n, int[] array, boolean detail)</code>
                                                               
                                 </p>
                                                         
                              </td>
                              <td>
                                                            
                                 <p>Appends the property name and the full contents of an array.</p>
                                                         
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
               </div><br class="table-break"><p>The <code class="literal">ToStringStyle</code> class provides a mechanism to
                  customize the output of a <code class="literal">ToStringBuilder</code>, and
                  this class contains a few <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1778"></a> 
                                 <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1779"></a>
                                 <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1780"></a>
                                 <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1781"></a>built-in
                  styles. One example is the
                  <code class="literal">ToStringStyle.MULTI_LINE_STYLE</code>, which puts a
                  newline character between every property. Another example is the
                  <code class="literal">ToStringStyle.SIMPLE_STYLE</code>, which simply prints
                  the value of every member variable. The following list provides an
                  example of each of these preset styles:
               </p>
               <div class="variablelist">
                  <dl>
                     <dt><span class="term">
                                                <code class="literal">ToStringStyle.DEFAULT_STYLE</code>
                                             </span></dt>
                     <dd><a name="I_1_tt10"></a><pre class="programlisting">com.discursive.jccook.lang.builders.
PoliticalCandidate@1cd2e5f[lastName=Jefferson,firstName=Thomas]</pre></dd>
                     <dt><span class="term">
                                                <code class="literal">ToStringStyle.MULTI_LINE_STYLE</code>
                                             </span></dt>
                     <dd><a name="I_1_tt11"></a><pre class="programlisting">com.discursive.jccook.lang.builders.PoliticalCandidate@1cd2e5f[
  lastName=Jefferson
  firstName=Thomas
]</pre></dd>
                     <dt><span class="term">
                                                <code class="literal">ToStringStyle.NO_FIELD_NAMES_STYLE</code>
                                             </span></dt>
                     <dd><a name="I_1_tt12"></a><pre class="programlisting">com.discursive.jccook.lang.builders.PoliticalCandidate@1cd2e5f[Jefferson,Thomas]</pre></dd>
                     <dt><span class="term">
                                                <code class="literal">ToStringStyle.SIMPLE_STYLE</code>
                                             </span></dt>
                     <dd><a name="I_1_tt13"></a><pre class="programlisting">Jefferson,Thomas</pre></dd>
                  </dl>
               </div>
               <p>What's the big deal about <code class="literal">toString()</code> methods? This is about accuracy and keeping messages
                  relevant in an evolving system. All useful error messages include a
                  string representation of the object involved in the error. If you get
                  an exception, and you print the value of an object, it is usually
                  clear what is causing that exception. In the absence of sensible
                  logging, it is next to impossible to debug a system without diving
                  directly into a debugger. This is especially true if you are trying
                  to diagnose the cause of an infrequent problem that only affects a
                  tiny percentage of users who only encounter a problem if they perform
                  a very specific action in a specific context. In these cases, it is
                  helpful to know the internal state of every object involved in the
                  error, and <code class="literal">toString( )</code> is the easiest way to print
                  this out to a log. Automate your <code class="literal">toString( )</code>
                  method, and your error messages will be more <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1782"></a> 
                                 <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1783"></a> 
                                 <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1784"></a> 
                                 <a class="indexterm" name="jakartackbk-CHP-1-ITERM-1785"></a>meaningful.
               </p>
            </div>
            <div class="navfooter">
               <hr>
               <table width="100%" summary="Navigation footer">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-1-SECT-5.2.html">Prev</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-1-SECT-6.html">Next</a></td>
                  </tr>
                  <tr>
                     <td width="40%" align="left" valign="top">1.5.2.&nbsp;Solution&nbsp;</td>
                     <td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.sonatype.com/" title="Discursive: Discursive">Sponsored by Discursive
                                                                      </a></span></td>
                     <td width="40%" align="right" valign="top">&nbsp;1.6.&nbsp;Automating hashCode( ) and equals( )</td>
                  </tr>
               </table>
            </div><br><center>
                             Copyright 2009. Discursive. All Rights Reserved.
                           
            </center><script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1693297-1");
pageTracker._initData();
pageTracker._setDomainName(".sonatype.com");
pageTracker._trackPageview();
</script><script src="http://loopfuse.net/webrecorder/js/listen.js" type="text/javascript"></script><script type="text/javascript">
  _lf_cid = "LF_5208d25a";
_lf_remora();
</script></div>
      </div>
   </body>
</html>