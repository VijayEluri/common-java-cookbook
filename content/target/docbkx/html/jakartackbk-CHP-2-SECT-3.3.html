<html xmlns:fo="http://www.w3.org/1999/XSL/Format">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>2.3.3.&nbsp;Discussion</title>
      <link rel="stylesheet" href="../css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="book.html" title="Jakarta Commons Cookbook">
      <link rel="up" href="jakartackbk-CHP-2-SECT-3.html" title="2.3.&nbsp;Abbreviating Strings">
      <link rel="prev" href="jakartackbk-CHP-2-SECT-3.2.html" title="2.3.2.&nbsp;Solution">
      <link rel="next" href="jakartackbk-CHP-2-SECT-4.html" title="2.4.&nbsp;Splitting a String">
   </head>
   <body>
      <div id="frame">
         <div id="forbg">
            <div id="user-header">
               <div id="logo"><a href="http://www.discursive.com" title="$"><img src="../images/discursive-logo.png" border="0"></a></div>
               <div id="right-header">
                  <h2>Common Java Cookbook</h2>
                  <h4>Edition: 0.1-SNAPSHOT</h4>
               </div>
               <div style="clear:both;"></div>
               <div id="left-sidebar"></div>
            </div>
            <div class="navheader">
               <table width="100%" summary="Navigation header">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-2-SECT-3.2.html">2.3.2.&nbsp;Solution</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">
                           												TOC
                                                                       </a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-2-SECT-4.html">2.4.&nbsp;Splitting a String</a></td>
                  </tr>
               </table>
            </div>
            <div class="sect2" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="jakartackbk-CHP-2-SECT-3.3"></a>2.3.3.&nbsp;Discussion
                        </h3>
                        <div class="section-icon"></div>
                     </div>
                  </div>
               </div>
               <p>
                                 <code class="literal">StringUtils.abbreviate( )</code> takes a string and
                  abbreviates it, if necessary. When abbreviating to 20 characters, if
                  the text is less than 20 characters, the method simply returns the
                  original text. If the text is greater than 20 characters, the method
                  displays 17 characters followed by three ellipses. Abbreviating a
                  piece of text to 20 characters guarantees that the text will occupy
                  20 characters or less:
               </p><a name="I_2_tt61"></a><pre class="programlisting">String message = "Who do you think you are?";
String abbrev = StringUtils.abbreviate( message, 20 );
String message2 = "Testing";
String abbrev2 = StringUtils.abbreviate( message, 40 );
System.out.println( "Subject: " + message );
System.out.println( "Subject2: " + messages2);</pre><p>This simple example abbreviates the first message variable,
                  <code class="literal">message</code>, to "Who do you
                  think...?" The second message variable,
                  <code class="literal">message2</code>, is not affected by the abbreviation
                  because it is less than 40 characters long;
                  <code class="literal">abbrev2</code> will equal the contents of
                  <code class="literal">message2</code>.
               </p>
               <p>
                                 <code class="literal">StringUtils.abbreviate( )</code> can also abbreviate text
                  at an offset within a string. If you are writing an application that
                  searches for a given word and prints that word out in context, you
                  can use the <code class="literal">StringUtils.abbreviate( )</code> method to
                  print the context in which a word appears:
               </p><a name="I_2_tt62"></a><pre class="programlisting">String message = "There was a palpable sense that the rest of the world " +
                 "might, one day, cease to exist. In the midst of the " +
                 "confusion - the absence of firm ground - something would " +
                 "fail to recover. The whole city is still, in a way, " +
                 "holding it's breath, hoping the the worst has come and " +
                 "gone.";
int index = message.indexOf( "ground" );
int offset = index - 20;
int width = 20 + message.length( );

<strong class="userinput"><code>String context = StringUtils.abbreviate(message, offset, width); </code></strong>
               <strong class="userinput"><code>System.out.println( "The word 'ground' in context: " + context );</code></strong>
            </pre><p>The output of this example is:</p><a name="I_2_tt63"></a><pre class="programlisting">The word 'ground' in context: ... absence of firm ground, something would...</pre><p>This code attempts to locate
                  "ground." Once the index of the
                  word has been located, an offset abbreviation is used to show the
                  context of the word. The <code class="literal">offset</code> parameter tells
                  <code class="literal">StringUtils.abbreviate( )</code> to start at a specific
                  index in the string. Once the index of
                  "ground" has been found, an offset
                  and a width are computed to print 20 characters before and after the
                  word "ground."
               </p>
               <p>If an offset is less than four, output will start from the beginning
                  of a string. If the offset is greater than four, the first three
                  characters will be ellipses.
               </p>
               <div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;">
                  <h3 class="title"><a name="jakartackbk-CHP-2-NOTE-51"></a>Warning
                  </h3>
                  <p>If a width less than four is specified, <code class="literal">abbreviate()</code> will throw an
                     <code class="literal">IllegalArgumentException</code>. A width less than four
                     does not give the <code class="literal">abbreviate( )</code> method enough room
                     to print ellipses and content.
                  </p>
               </div>
            </div>
            <div class="navfooter">
               <hr>
               <table width="100%" summary="Navigation footer">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-2-SECT-3.2.html">Prev</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-2-SECT-4.html">Next</a></td>
                  </tr>
                  <tr>
                     <td width="40%" align="left" valign="top">2.3.2.&nbsp;Solution&nbsp;</td>
                     <td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.sonatype.com/" title="Discursive: Discursive">Sponsored by Discursive
                                                                      </a></span></td>
                     <td width="40%" align="right" valign="top">&nbsp;2.4.&nbsp;Splitting a String</td>
                  </tr>
               </table>
            </div><br><center>
                             Copyright 2009. Discursive. All Rights Reserved.
                           
            </center><script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1693297-1");
pageTracker._initData();
pageTracker._setDomainName(".sonatype.com");
pageTracker._trackPageview();
</script><script src="http://loopfuse.net/webrecorder/js/listen.js" type="text/javascript"></script><script type="text/javascript">
  _lf_cid = "LF_5208d25a";
_lf_remora();
</script></div>
      </div>
   </body>
</html>