<html xmlns:fo="http://www.w3.org/1999/XSL/Format">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>4.8.3.&nbsp;Discussion</title>
      <link rel="stylesheet" href="../css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="book.html" title="Jakarta Commons Cookbook">
      <link rel="up" href="jakartackbk-CHP-4-SECT-8.html" title="4.8.&nbsp;Writing a Custom Predicate">
      <link rel="prev" href="jakartackbk-CHP-4-SECT-8.2.html" title="4.8.2.&nbsp;Solution">
      <link rel="next" href="jakartackbk-CHP-4-SECT-8.4.html" title="4.8.4.&nbsp;See Also">
   </head>
   <body>
      <div id="frame">
         <div id="forbg">
            <div id="user-header">
               <div id="logo"><a href="http://www.discursive.com" title="$"><img src="../images/discursive-logo.png" border="0"></a></div>
               <div id="right-header">
                  <h2>Common Java Cookbook</h2>
                  <h4>Edition: 0.1-SNAPSHOT</h4>
               </div>
               <div style="clear:both;"></div>
               <div id="left-sidebar"></div>
            </div>
            <div class="navheader">
               <table width="100%" summary="Navigation header">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-4-SECT-8.2.html">4.8.2.&nbsp;Solution</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">
                           												TOC
                                                                       </a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-4-SECT-8.4.html">4.8.4.&nbsp;See Also</a></td>
                  </tr>
               </table>
            </div>
            <div class="sect2" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="jakartackbk-CHP-4-SECT-8.3"></a>4.8.3.&nbsp;Discussion
                        </h3>
                        <div class="section-icon"></div>
                     </div>
                  </div>
               </div>
               <p>
                                 <code class="literal">Predicates</code> can be used in any number of
                  situations, such as validating user input, filtering a
                  <code class="literal">Collection</code>, or just as a replacement for complex
                  conditional logic. A <code class="literal">Predicate</code> can be as simple or
                  as complex as you need it to be; the only contract it must satisfy is
                  the production of a <code class="literal">boolean</code> result from an
                  <code class="literal">evaluate( )</code> method.
               </p>
               <p>To demonstrate the process of writing a fairly complex implementation
                  of the <code class="literal">Predicate</code> interface, a contrived example is
                  developed in <a href="jakartackbk-CHP-4-SECT-8.3.html#jakartackbk-CHP-4-EX-6" title="Example&nbsp;4-6.&nbsp;Implementing the Predicate interface">Example 4-6</a>. Your application evaluates
                  the condition of the space shuttle and makes a determination for
                  launch&#8212;go or no go. Some of the criteria include the
                  temperature of the launch pad, the status of the crew, and the
                  presence (or absence) of fuel. In the end, your boss is looking for
                  thumbs up or thumbs down, and you decide to write a program that
                  returns a <code class="literal">boolean</code> decision. This decision is
                  implemented in the <code class="literal">LaunchPredicate</code> class.
               </p>
               <div class="example"><a name="jakartackbk-CHP-4-EX-6"></a><p class="title"><b>Example&nbsp;4-6.&nbsp;Implementing the Predicate interface</b></p>
                  <div class="example-contents"><pre class="programlisting">package com.discursive.jccook.collections.predicate;

import org.apache.commons.collections.Predicate;

public class LaunchPredicate implements Predicate {

    public LaunchPredicate( ) {}

    public boolean evaluate(Object object) {
        boolean launchGo = false;

        LaunchStats stats = (LaunchStats) object;

        boolean crewReady = stats.isCrewPresent( ) &amp;&amp; stats.isCrewHealthy( );
        boolean fueled = stats.isShuttleFueled( ) &amp;&amp; stats.
        isFuelIgnitionReady( );
        boolean withinLaunchWindow = stats.isLaunchWindowOpen( );

        boolean properWeather = 
                ( stats.temperature( ) &gt; 35 ) &amp;&amp; 
              ( !stats.isLightningDangerPresent( ) );

        // Check the crew, fuel, and launch time
            if( crewReady &amp;&amp; fueled &amp;&amp; withinLaunchWindow ) {
            launchGo = true;
        }

        // Override a GO decision if the weather is bad
        if( !properWeather ) {
            launchGo = false;
        }

        return launchGo;
    }
}</pre></div>
               </div><br class="example-break"><p>A shuttle launch is predicated on the presence and health of the
                  crew, the state of the fuel, and the time of the launch event. A
                  final weather check is performed to ensure that the temperature of
                  the shuttle is not below 35 degrees Fahrenheit. If this critical
                  temperature limit is not met, the <code class="literal">Predicate</code>
                  overrides the previous decision to launch. Using a
                  <code class="literal">LaunchPredicate</code> encapsulates your decision logic
                  in one object, making it easier to upgrade, maintain, and test this
                  decision process. Your unit tests can pass a mock object to this
                  predicate, testing every possible permutation of possible inputs. The
                  following example demonstrates the use of the
                  <code class="literal">LaunchPredicate</code>:
               </p><a name="I_4_tt176"></a><pre class="programlisting">LaunchPredicate launchDecision = new LaunchPredicate( );

LaunchStats stats = measureLaunchStatistics( );

if( launchDecision.evaluate( stats ) ) {
    System.out.println( "We are Go for Ignition." );
} else {
    System.out.println( "Abort mission." );
}</pre></div>
            <div class="navfooter">
               <hr>
               <table width="100%" summary="Navigation footer">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-4-SECT-8.2.html">Prev</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-4-SECT-8.4.html">Next</a></td>
                  </tr>
                  <tr>
                     <td width="40%" align="left" valign="top">4.8.2.&nbsp;Solution&nbsp;</td>
                     <td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.sonatype.com/" title="Discursive: Discursive">Sponsored by Discursive
                                                                      </a></span></td>
                     <td width="40%" align="right" valign="top">&nbsp;4.8.4.&nbsp;See Also</td>
                  </tr>
               </table>
            </div><br><center>
                             Copyright 2009. Discursive. All Rights Reserved.
                           
            </center><script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1693297-1");
pageTracker._initData();
pageTracker._setDomainName(".sonatype.com");
pageTracker._trackPageview();
</script><script src="http://loopfuse.net/webrecorder/js/listen.js" type="text/javascript"></script><script type="text/javascript">
  _lf_cid = "LF_5208d25a";
_lf_remora();
</script></div>
      </div>
   </body>
</html>