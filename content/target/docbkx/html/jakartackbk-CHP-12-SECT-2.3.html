<html xmlns:fo="http://www.w3.org/1999/XSL/Format">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>12.2.3.&nbsp;Discussion</title>
      <link rel="stylesheet" href="../css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="book.html" title="Jakarta Commons Cookbook">
      <link rel="up" href="jakartackbk-CHP-12-SECT-2.html" title="12.2.&nbsp;Querying an Object Graph with XPath">
      <link rel="prev" href="jakartackbk-CHP-12-SECT-2.2.html" title="12.2.2.&nbsp;Solution">
      <link rel="next" href="jakartackbk-CHP-12-SECT-2.4.html" title="12.2.4.&nbsp;See Also">
   </head>
   <body>
      <div id="frame">
         <div id="forbg">
            <div id="user-header">
               <div id="logo"><a href="http://www.discursive.com" title="$"><img src="../images/discursive-logo.png" border="0"></a></div>
               <div id="right-header">
                  <h2>Common Java Cookbook</h2>
                  <h4>Edition: 0.1-SNAPSHOT</h4>
               </div>
               <div style="clear:both;"></div>
               <div id="left-sidebar"></div>
            </div>
            <div class="navheader">
               <table width="100%" summary="Navigation header">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-12-SECT-2.2.html">12.2.2.&nbsp;Solution</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">
                           												TOC
                                                                       </a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-12-SECT-2.4.html">12.2.4.&nbsp;See Also</a></td>
                  </tr>
               </table>
            </div>
            <div class="sect2" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="jakartackbk-CHP-12-SECT-2.3"></a>12.2.3.&nbsp;Discussion
                        </h3>
                        <div class="section-icon"></div>
                     </div>
                  </div>
               </div>
               <p>XPath is generally used by select nodes in an XML document, and you
                  may have used it to transform XML with Extensible Stylesheet Language
                  Transformations (XSLT). In this example, XPath is used in a somewhat
                  unconventional manner as a query to filter and select objects based
                  on the values of deeply nested properties. The first
                  query&#8212;<span class="emphasis"><em>teams/players[firstname =
                        `Player
                        Ted']/../coach/firstName</em></span>
                                 <code class="filename">&#8212;</code>is
                  evaluated using the <code class="literal">League</code> object as the current
                  node, and if one were to evaluate the XPath expressions
                  <span class="emphasis"><em>self( )</em></span> or ., you would
                  retrieve the <code class="literal">League</code> object passed to
                  <code class="literal">newContext( )</code>. When the previous example retrieved
                  the first name of Ted's coach, JXPath iterated
                  through the <code class="literal">team</code> 
                                 <code class="literal">List</code>, and
                  located the matching <code class="literal">Player</code> and
                  <code class="literal">Coach</code> object. The execution of the first XPath
                  expression in the previous example is equivalent to the following
                  code, which iterates through the <code class="literal">Team</code> and
                  <code class="literal">Player</code> lists:
               </p><a name="I_12_tt485"></a><pre class="programlisting">String firstName = null;

Iterator teamIterator = league.getTeams( ).iterator( );
while( teamIterator.hasNext( ) ) {
    Team team = (Team) teamIterator.next( );
    Iterator playerIterator = team.getPlayers( ).iterator( );
    while( playerIterator.hasNext( ) ) {
        Player player = (Player) playerIterator.next( );
        if( player.getFirstName( ).equals( "Player Ted" ) ) {
            firstName = team.getCoach( ).getFirstName( );
        }
    }
}</pre><p>The ability to filter a complex object graph with a simple expression
                  can help you avoid writing tedious code to iterate through doubly
                  nested collections to compare property values.
               </p>
            </div>
            <div class="navfooter">
               <hr>
               <table width="100%" summary="Navigation footer">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-12-SECT-2.2.html">Prev</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-12-SECT-2.4.html">Next</a></td>
                  </tr>
                  <tr>
                     <td width="40%" align="left" valign="top">12.2.2.&nbsp;Solution&nbsp;</td>
                     <td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.sonatype.com/" title="Discursive: Discursive">Sponsored by Discursive
                                                                      </a></span></td>
                     <td width="40%" align="right" valign="top">&nbsp;12.2.4.&nbsp;See Also</td>
                  </tr>
               </table>
            </div><br><center>
                             Copyright 2009. Discursive. All Rights Reserved.
                           
            </center><script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1693297-1");
pageTracker._initData();
pageTracker._setDomainName(".sonatype.com");
pageTracker._trackPageview();
</script><script src="http://loopfuse.net/webrecorder/js/listen.js" type="text/javascript"></script><script type="text/javascript">
  _lf_cid = "LF_5208d25a";
_lf_remora();
</script></div>
      </div>
   </body>
</html>