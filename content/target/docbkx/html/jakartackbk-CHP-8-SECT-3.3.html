<html xmlns:fo="http://www.w3.org/1999/XSL/Format">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>8.3.3.&nbsp;Discussion</title>
      <link rel="stylesheet" href="../css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="book.html" title="Jakarta Commons Cookbook">
      <link rel="up" href="jakartackbk-CHP-8-SECT-3.html" title="8.3.&nbsp;Using Number Ranges">
      <link rel="prev" href="jakartackbk-CHP-8-SECT-3.2.html" title="8.3.2.&nbsp;Solution">
      <link rel="next" href="jakartackbk-CHP-8-SECT-3.4.html" title="8.3.4.&nbsp;See Also">
   </head>
   <body>
      <div id="frame">
         <div id="forbg">
            <div id="user-header">
               <div id="logo"><a href="http://www.discursive.com" title="$"><img src="../images/discursive-logo.png" border="0"></a></div>
               <div id="right-header">
                  <h2>Common Java Cookbook</h2>
                  <h4>Edition: 0.1-SNAPSHOT</h4>
               </div>
               <div style="clear:both;"></div>
               <div id="left-sidebar"></div>
            </div>
            <div class="navheader">
               <table width="100%" summary="Navigation header">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-8-SECT-3.2.html">8.3.2.&nbsp;Solution</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">
                           												TOC
                                                                       </a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-8-SECT-3.4.html">8.3.4.&nbsp;See Also</a></td>
                  </tr>
               </table>
            </div>
            <div class="sect2" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="jakartackbk-CHP-8-SECT-3.3"></a>8.3.3.&nbsp;Discussion
                        </h3>
                        <div class="section-icon"></div>
                     </div>
                  </div>
               </div>
               <p>Additionally, one can also test to see if another
                  <code class="literal">Range</code> is contained within a
                  <code class="literal">Range</code>, or if a <code class="literal">Range</code> overlaps
                  another <code class="literal">Range</code>. The following example demonstrates
                  the use of <code class="literal">containsRange(
                     )</code>
                                 <a class="indexterm" name="jakartackbk-CHP-8-ITERM-2877"></a>
                                 <a class="indexterm" name="jakartackbk-CHP-8-ITERM-2878"></a> to determine if a <code class="literal">Range</code>
                  is entirely contained within another <code class="literal">Range</code>:
               </p><a name="I_8_tt326"></a><pre class="programlisting">import org.apache.commons.lang.math.Range;
import org.apache.commons.lang.math.IntRange;
import org.apache.commons.lang.math.NumberUtils;

double recordHigh = getRecordHigh( );
double recordLow = getRecordLow( );

IntRange recordRange = new IntRange( recordLow, recordHigh );

int todayTemp = getTodaysMaxTemp( );
IntRange daysRange = new IntRange( NumberUtils.min( todayTemp ),
                                   NumberUtils.max( todayTemp ) );

if( !recordRange.containsRange( todayTemp ) ) {
    System.out.println( "Today is a record temperature day!" );
}</pre><p>The previous code creates a <code class="literal">Range</code>,
                  <code class="literal">recordRange</code>, from the record high and low
                  temperatures. It then creates <code class="literal">daysRange</code>, which is
                  a <code class="literal">Range</code> of the current day's high
                  and low temperatures. If <code class="literal">dayRange</code> is not entirely
                  contained within the <code class="literal">recordRange</code>, then the current
                  day contains a record temperature and
                  <code class="literal">recordRange.containsRange(daysRange)</code> will return
                  <code class="literal">false</code>. <code class="literal">containsRange( )</code> returns
                  <code class="literal">true</code> if every value in the containing range occurs
                  in the contained range, and <code class="literal">overlapsRange( )</code>
                  returns <code class="literal">true</code> if two <code class="literal">Range</code>
                  objects share any common value. <code class="literal">NumberUtils</code> is
                  used to retrieve the maximum and minimum values from the
                  <code class="literal">todayTemp</code> array.
               </p>
               <p>In another example, a <code class="literal">Range</code> object is used to
                  ascertain the state of an element from a temperature measurement.
                  Elemental Gold (Au) melts at 1337.33 Kelvin and boils at 3129.15
                  Kelvin. The following code is used to read the temperature from a
                  thermometer and print the current state of the element:
               </p><a name="I_8_tt327"></a><pre class="programlisting">import org.apache.commons.lang.math.Range;
import org.apache.commons.lang.math.DoubleRange;

double melting = 1337.33;
double boiling = 3129.15

// State ranges for element Au
Object[] stateRanges = 
    new Object[][]{{"solid" , new DoubleRange( 0.0, melting )},
                    {"liquid", new DoubleRange( melting, boiling )},
                    {"gas", new DoubleRange( boiling,Double.INFINITY) };

// Read measurement from thermometer
double temp = themometer.getReading( );
String state = "unknown";

// Test the state 
for( int i = 0; i &lt; stateRanges.length; i++ ) {
    DoubleRange stateRange = (DoubleRange) stateRanges[i][1];
    if( stateRange.contains( temp ) ) {
        state = (String) stateRanges[i][0];
    }
}

System.out.println( "The substance is in a " + state + " state." );

// If the temperature is a temperate 293 K, this line would print 
// "The Gold is in a solid state."</pre><p>The ranges in this example overlap; the <code class="literal">solid</code>
                  range ends at <code class="literal">melting</code>, and the
                  <code class="literal">liquid</code> range begins at <code class="literal">melting</code>.
                  Because each <code class="literal">Range</code> is tested in a defined order,
                  each <code class="literal">Range</code> object in this example is lower- and
                  upper-bound inclusive. If the <code class="literal">temp</code> variable has
                  the same value as <code class="literal">melting</code>, the program will
                  indicate solid state, and if the <code class="literal">temp</code> variable has
                  the same value as <code class="literal">boiling</code>, this program will
                  signify the <code class="literal">liquid</code> state.
               </p>
            </div>
            <div class="navfooter">
               <hr>
               <table width="100%" summary="Navigation footer">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-8-SECT-3.2.html">Prev</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-8-SECT-3.4.html">Next</a></td>
                  </tr>
                  <tr>
                     <td width="40%" align="left" valign="top">8.3.2.&nbsp;Solution&nbsp;</td>
                     <td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.sonatype.com/" title="Discursive: Discursive">Sponsored by Discursive
                                                                      </a></span></td>
                     <td width="40%" align="right" valign="top">&nbsp;8.3.4.&nbsp;See Also</td>
                  </tr>
               </table>
            </div><br><center>
                             Copyright 2009. Discursive. All Rights Reserved.
                           
            </center><script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1693297-1");
pageTracker._initData();
pageTracker._setDomainName(".sonatype.com");
pageTracker._trackPageview();
</script><script src="http://loopfuse.net/webrecorder/js/listen.js" type="text/javascript"></script><script type="text/javascript">
  _lf_cid = "LF_5208d25a";
_lf_remora();
</script></div>
      </div>
   </body>
</html>