<html xmlns:fo="http://www.w3.org/1999/XSL/Format">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   
      <title>2.5.3.&nbsp;Discussion</title>
      <link rel="stylesheet" href="../css/html.css" type="text/css">
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0">
      <link rel="start" href="book.html" title="Jakarta Commons Cookbook">
      <link rel="up" href="jakartackbk-CHP-2-SECT-5.html" title="2.5.&nbsp;Finding Nested Strings">
      <link rel="prev" href="jakartackbk-CHP-2-SECT-5.2.html" title="2.5.2.&nbsp;Solution">
      <link rel="next" href="jakartackbk-CHP-2-SECT-6.html" title="2.6.&nbsp;Stripping and Trimming a String">
   </head>
   <body>
      <div id="frame">
         <div id="forbg">
            <div id="user-header">
               <div id="logo"><a href="http://www.discursive.com" title="$"><img src="../images/discursive-logo.png" border="0"></a></div>
               <div id="right-header">
                  <h2>Common Java Cookbook</h2>
                  <h4>Edition: 0.1-SNAPSHOT</h4>
               </div>
               <div style="clear:both;"></div>
               <div id="left-sidebar"></div>
            </div>
            <div class="navheader">
               <table width="100%" summary="Navigation header">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-2-SECT-5.2.html">2.5.2.&nbsp;Solution</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">
                           												TOC
                                                                       </a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-2-SECT-6.html">2.6.&nbsp;Stripping and Trimming a String</a></td>
                  </tr>
               </table>
            </div>
            <div class="sect2" lang="en">
               <div class="titlepage">
                  <div>
                     <div>
                        <h3 class="title"><a name="jakartackbk-CHP-2-SECT-5.3"></a>2.5.3.&nbsp;Discussion
                        </h3>
                        <div class="section-icon"></div>
                     </div>
                  </div>
               </div>
               <p>In the Solution section, the <code class="literal">substringBetween()</code>
                                 <a class="indexterm" name="jakartackbk-CHP-2-ITERM-1992"></a>
                                 <a class="indexterm" name="jakartackbk-CHP-2-ITERM-1993"></a> method returns the first string between the
                  <code class="literal">open</code> and <code class="literal">close</code>
                  strings&#8212;the title of an HTML document. The previous example
                  only contained one nested element, but what happens when a string
                  contains multiple elements nested in the same two strings? In the
                  following example, three variables are extracted from a string using
                  <code class="literal">substringBetween( )</code>:
               </p><a name="I_2_tt70"></a><pre class="programlisting">String variables = "{45}, {35}, {120}" ;
List numbers = new ArrayList( );

String variablesTemp = variables;
while( StringUtils.substringBetween( variablesTemp, "{", "}" ) != null ) {
    String numberStr = StringUtils.substringBetween( variables, "{", "}" );
    Double number = new Double( numberStr );
    numbers.add( number );
    variablesTemp = variablesTemp.substring( variablesTemp.indexOf(",") );
}

double sum = StatUtil.sum( ArrayUtils.toPrimitive( numbers.toArray( ) ) );
System.out.println( "Variables: " + variables + ", Sum: " + sum );</pre><p>The output of this example is:</p><a name="I_2_tt71"></a><pre class="programlisting">Variable: {45}, {35}, {120}, Sum: 200</pre><p>After each number is extracted from the curly braces, the system
                  finds the index of the next comma and reduces the size of the string
                  to search for the next call to <code class="literal">StringUtils</code>.
               </p>
               <p>
                                 <code class="literal">StringUtils.substringBetween( )</code> can also find text
                  that is delimited by the same character:
               </p><a name="I_2_tt72"></a><pre class="programlisting">String message = "|TESTING| BOUNDARYExampleBOUNDARY";
String first = StringUtils.substringBetween( message, "|"); 
String second = StringUtils.substringBetween( message, "BOUNDARY");</pre><p>The first string would return
                  "TESTING" as it is between the
                  <code class="literal">|</code> characters, and the second string would contain
                  "Example."
               </p>
            </div>
            <div class="navfooter">
               <hr>
               <table width="100%" summary="Navigation footer">
                  <tr>
                     <td width="40%" align="left"><a accesskey="p" href="jakartackbk-CHP-2-SECT-5.2.html">Prev</a>&nbsp;
                     </td>
                     <td width="20%" align="center"><a accesskey="h" href="book.html">Home</a></td>
                     <td width="40%" align="right">&nbsp;<a accesskey="n" href="jakartackbk-CHP-2-SECT-6.html">Next</a></td>
                  </tr>
                  <tr>
                     <td width="40%" align="left" valign="top">2.5.2.&nbsp;Solution&nbsp;</td>
                     <td width="20%" align="center"><span style="color:white;font-size:90%;"><a href="http://www.sonatype.com/" title="Discursive: Discursive">Sponsored by Discursive
                                                                      </a></span></td>
                     <td width="40%" align="right" valign="top">&nbsp;2.6.&nbsp;Stripping and Trimming a String</td>
                  </tr>
               </table>
            </div><br><center>
                             Copyright 2009. Discursive. All Rights Reserved.
                           
            </center><script type="text/javascript">
  var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script><script type="text/javascript">
var pageTracker = _gat._getTracker("UA-1693297-1");
pageTracker._initData();
pageTracker._setDomainName(".sonatype.com");
pageTracker._trackPageview();
</script><script src="http://loopfuse.net/webrecorder/js/listen.js" type="text/javascript"></script><script type="text/javascript">
  _lf_cid = "LF_5208d25a";
_lf_remora();
</script></div>
      </div>
   </body>
</html>